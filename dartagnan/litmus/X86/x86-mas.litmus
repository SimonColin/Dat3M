X86 x86-mas  (X86MTenFence)
" ST ; LD || LD ; ST hexa version, with mfences"
{
 x=0; y=0;
}

P0          | P1          | P2          | P3        ;
mov [x],1   | mov EAX,[y] |             |           ;
mfence      | mfence      |             |           ;
mov EAX,[y] | mov [x],2   | mov EAX,[x] | mov [y],2 ;

exists ( 0:EAX=1 /\ 1:EAX=1 /\ 2:EAX=1 /\ x=1)

